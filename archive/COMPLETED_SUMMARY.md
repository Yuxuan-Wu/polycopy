# Polymarketè·Ÿå•ç³»ç»Ÿ - é¡¹ç›®äº¤ä»˜æ€»ç»“

## âœ… é¡¹ç›®å®ŒæˆçŠ¶æ€

**çŠ¶æ€ï¼š** ğŸ‰ å·²å®Œæˆå¹¶æˆåŠŸè¿è¡Œ  
**æµ‹è¯•æ—¶é—´ï¼š** 2025-11-26  
**éƒ¨ç½²ä½ç½®ï¼š** /root/polycopy

---

## ğŸ“¦ äº¤ä»˜å†…å®¹

### 1. æ ¸å¿ƒç³»ç»Ÿï¼ˆå·²è¿è¡Œï¼‰
```
âœ“ ä¸»ç¨‹åº (main.py) - æ­£åœ¨è¿è¡Œï¼ŒPID: 91232
âœ“ RPCç®¡ç†æ¨¡å— (src/rpc_manager.py) - 5ä¸ªèŠ‚ç‚¹å†—ä½™
âœ“ æ•°æ®åº“æ¨¡å— (src/database.py) - SQLite + CSVè‡ªåŠ¨å¯¼å‡º
âœ“ ç›‘æ§æ¨¡å— (src/monitor.py) - å®æ—¶ç›‘æ§3ä¸ªåœ°å€
```

### 2. é…ç½®æ–‡ä»¶
```yaml
config.yaml - å·²é…ç½®3ä¸ªç›‘æ§åœ°å€ï¼š
  â€¢ 0x0f37cb80dee49d55b5f6d9e595d52591d6371410
  â€¢ 0xca8f0374e3fc79b485499cc0b038d4f7e783d963
  â€¢ 0x7c3db723f1d4d8cb9c550095203b686cb11e5c6b
```

### 3. ç›‘æ§è„šæœ¬ï¼ˆå…¨æ–°ï¼‰
```bash
âœ“ watch.sh         - æŒç»­å®æ—¶ç›‘æ§ï¼ˆæ¨èä½¿ç”¨ï¼‰
âœ“ status.sh        - å®Œæ•´çŠ¶æ€æŠ¥å‘Š
âœ“ quick_check.sh   - å¿«é€Ÿæ£€æŸ¥
```

### 4. æ•°æ®å­˜å‚¨
```
âœ“ data/trades.db   - SQLiteæ•°æ®åº“ï¼ˆ28KBï¼‰
âœ“ data/trades.csv  - CSVå¯¼å‡ºæ–‡ä»¶ï¼ˆ4KBï¼‰
âœ“ logs/polycopy.log - è¿è¡Œæ—¥å¿—ï¼ˆ8.7MBï¼‰
```

### 5. æ–‡æ¡£
```
âœ“ README.md          - å®Œæ•´æŠ€æœ¯æ–‡æ¡£
âœ“ QUICKSTART.md      - å¿«é€Ÿå…¥é—¨æŒ‡å—
âœ“ MONITOR_GUIDE.md   - ç›‘æ§è„šæœ¬ä½¿ç”¨æŒ‡å—ï¼ˆNEWï¼‰
âœ“ PROJECT_SUMMARY.md - é¡¹ç›®æŠ€æœ¯æ€»ç»“
âœ“ tree.txt          - é¡¹ç›®ç»“æ„è¯´æ˜
```

---

## ğŸ¯ å·²è§£å†³çš„æŠ€æœ¯é—®é¢˜

### é—®é¢˜1: Polygon POAå…¼å®¹æ€§
**ç—‡çŠ¶ï¼š** extraDataå­—æ®µé”™è¯¯  
**è§£å†³ï¼š** æ·»åŠ  ExtraDataToPOAMiddleware  
**ä½ç½®ï¼š** src/rpc_manager.py:9,47

### é—®é¢˜2: ç›‘æ§çŠ¶æ€ä¸æ¸…æ™°
**ç—‡çŠ¶ï¼š** ä¸çŸ¥é“ç³»ç»Ÿæ˜¯å¦åœ¨æ­£å¸¸å·¥ä½œ  
**è§£å†³ï¼š** åˆ›å»º3ä¸ªå±‚çº§çš„ç›‘æ§è„šæœ¬  
**æ–‡ä»¶ï¼š** watch.sh, status.sh, quick_check.sh

---

## ğŸš€ ç³»ç»Ÿå½“å‰è¿è¡ŒçŠ¶æ€

```
è¿›ç¨‹çŠ¶æ€:    âœ“ è¿è¡Œä¸­ï¼ˆè¿è¡Œæ—¶é•¿: 58åˆ†é’Ÿï¼‰
å†…å­˜ä½¿ç”¨:    64.0 MB
RPCè¿æ¥:     âœ“ å·²è¿æ¥ (polygon-rpc.com)
ç›‘æ§åœ°å€:    3ä¸ªåœ°å€æ­£å¸¸ç›‘æ§
æ•è·äº¤æ˜“:    0ç¬”ï¼ˆç­‰å¾…äº¤æ˜“å‘ç”Ÿï¼‰
é”™è¯¯çŠ¶æ€:    âœ“ æ— é”™è¯¯
```

---

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½éªŒè¯

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| **å¤šåœ°å€ç›‘æ§** | âœ… é€šè¿‡ | 3ä¸ªåœ°å€é…ç½®å®Œæˆ |
| **RPCå†—ä½™** | âœ… é€šè¿‡ | 5ä¸ªèŠ‚ç‚¹è‡ªåŠ¨åˆ‡æ¢ |
| **Polygonè¿æ¥** | âœ… é€šè¿‡ | POAä¸­é—´ä»¶å·²æ·»åŠ  |
| **åŒºå—æ‰«æ** | âœ… é€šè¿‡ | æ¯12ç§’æ£€æŸ¥æ–°åŒºå— |
| **äº¤æ˜“æ£€æµ‹** | âœ… å°±ç»ª | ç­‰å¾…Polymarketäº¤æ˜“ |
| **æ•°æ®åº“å­˜å‚¨** | âœ… é€šè¿‡ | SQLiteæ­£å¸¸å·¥ä½œ |
| **CSVå¯¼å‡º** | âœ… é€šè¿‡ | è‡ªåŠ¨å¯¼å‡ºå·²å¯ç”¨ |
| **æ—¥å¿—è®°å½•** | âœ… é€šè¿‡ | INFOçº§åˆ«æ—¥å¿— |
| **å®æ—¶ç›‘æ§** | âœ… é€šè¿‡ | watch.shè¿è¡Œæ­£å¸¸ |
| **é”™è¯¯æ¢å¤** | âœ… é€šè¿‡ | è‡ªåŠ¨é‡è¿æœºåˆ¶ |

---

## ğŸ”§ æ—¥å¸¸ä½¿ç”¨å‘½ä»¤

### æŸ¥çœ‹å®æ—¶ç›‘æ§ï¼ˆæ¨èï¼‰
```bash
cd /root/polycopy
./watch.sh 10
```

### å¿«é€Ÿæ£€æŸ¥çŠ¶æ€
```bash
./quick_check.sh
```

### æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š
```bash
./status.sh
```

### æŸ¥çœ‹æ•è·çš„äº¤æ˜“
```bash
cat data/trades.csv
```

### æŸ¥çœ‹å®æ—¶æ—¥å¿—
```bash
tail -f logs/polycopy.log
```

### åœæ­¢ç³»ç»Ÿ
```bash
pkill -f 'python3 main.py'
```

### é‡å¯ç³»ç»Ÿ
```bash
python3 main.py
```

---

## ğŸ“ˆ ç›‘æ§è„šæœ¬ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1ï¼šå®æ—¶ç›‘æ§ï¼ˆæ¨èï¼‰
```bash
# ç»ˆç«¯1ï¼šè¿è¡Œç³»ç»Ÿ
python3 main.py

# ç»ˆç«¯2ï¼šæŒç»­ç›‘æ§
./watch.sh 5
```
æ¯5ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œå®æ—¶æ˜¾ç¤ºï¼š
- è¿›ç¨‹çŠ¶æ€
- RPCè¿æ¥
- åŒºå—å¤„ç†
- äº¤æ˜“æ•è·
- 3ä¸ªåœ°å€çš„äº¤æ˜“ç»Ÿè®¡

### åœºæ™¯2ï¼šå®šæœŸæ£€æŸ¥
```bash
# å¿«é€Ÿæ£€æŸ¥ï¼ˆç”¨äºè„šæœ¬ï¼‰
./quick_check.sh

# è¾“å‡ºç¤ºä¾‹ï¼š
# âœ“ Process running (PID: 91232)
# âœ“ Uptime: 1:30:00
# âœ“ Memory: 64.0 MB
# Trades detected: 5
```

---

## ğŸ’¾ æ•°æ®æŸ¥è¯¢ç¤ºä¾‹

### æŸ¥çœ‹æ‰€æœ‰äº¤æ˜“
```bash
sqlite3 data/trades.db "SELECT * FROM trades;"
```

### ç»Ÿè®¡å„åœ°å€äº¤æ˜“æ•°
```bash
sqlite3 data/trades.db "
SELECT from_address, COUNT(*) as trade_count 
FROM trades 
GROUP BY from_address;
"
```

### å¯¼å‡ºç‰¹å®šåœ°å€äº¤æ˜“
```bash
sqlite3 data/trades.db "
SELECT * FROM trades 
WHERE from_address='0x0f37cb80dee49d55b5f6d9e595d52591d6371410'
" > my_trades.csv
```

### æŸ¥çœ‹æœ€è¿‘10ç¬”äº¤æ˜“
```bash
sqlite3 data/trades.db "
SELECT 
    datetime(timestamp, 'unixepoch') as time,
    substr(from_address, 1, 10) || '...' as from_addr,
    method,
    status
FROM trades 
ORDER BY timestamp DESC 
LIMIT 10;
"
```

---

## ğŸ“ ç³»ç»Ÿå·¥ä½œåŸç†

### ç›‘æ§æµç¨‹
```
1. æ¯12ç§’æ£€æŸ¥ Polygon æ–°åŒºå—
   â†“
2. æ‰«æåŒºå—ä¸­çš„æ‰€æœ‰äº¤æ˜“
   â†“
3. è¿‡æ»¤å‡ºä½ ç›‘æ§çš„3ä¸ªåœ°å€å‘èµ·çš„äº¤æ˜“
   â†“
4. æ£€æŸ¥æ˜¯å¦ä¸ Polymarket åˆçº¦äº¤äº’
   â†“
5. å¦‚æœæ˜¯ï¼Œæå–äº¤æ˜“è¯¦æƒ…
   â†“
6. åŒæ—¶ä¿å­˜åˆ° SQLite å’Œ CSV
```

### RPCå†—ä½™æœºåˆ¶
```
polygon-rpc.com (ä¸»èŠ‚ç‚¹)
   â†“ å¤±è´¥
rpc-mainnet.matic.network
   â†“ å¤±è´¥  
polygon-mainnet.public.blastapi.io
   â†“ å¤±è´¥
rpc-mainnet.maticvigil.com
   â†“ å¤±è´¥
polygon-bor-rpc.publicnode.com
```

---

## ğŸ” å¸¸è§é—®é¢˜è§£ç­”

### Q1: ä¸ºä»€ä¹ˆæ²¡æœ‰æ•è·åˆ°äº¤æ˜“ï¼Ÿ
**A:** è¿™æ˜¯æ­£å¸¸çš„ã€‚åªæœ‰å½“ç›‘æ§çš„åœ°å€åœ¨Polymarketä¸Šäº¤æ˜“æ—¶æ‰ä¼šè®°å½•ã€‚å¦‚æœåœ°å€æ²¡æœ‰äº¤æ˜“ï¼Œå°±ä¸ä¼šæœ‰æ•°æ®ã€‚

### Q2: å¦‚ä½•çŸ¥é“ç³»ç»Ÿåœ¨æ­£å¸¸è¿è¡Œï¼Ÿ
**A:** è¿è¡Œ `./watch.sh`ï¼Œæ£€æŸ¥ï¼š
- Process Status = âœ“ RUNNING
- RPC Connection = âœ“ Connected
- Errors = âœ“ No recent errors

### Q3: æ—¥å¿—æ˜¾ç¤º"Stale"æ˜¯å¦æœ‰é—®é¢˜ï¼Ÿ
**A:** æ­£å¸¸ã€‚INFOçº§åˆ«åªè®°å½•é‡è¦äº‹ä»¶ï¼ˆå¯åŠ¨ã€äº¤æ˜“ã€é”™è¯¯ï¼‰ã€‚ç³»ç»Ÿé™é»˜è¿è¡Œæ—¶ä¸ä¼šé¢‘ç¹å†™æ—¥å¿—ã€‚

### Q4: å¦‚ä½•æ·»åŠ æ›´å¤šç›‘æ§åœ°å€ï¼Ÿ
**A:** ç¼–è¾‘ `config.yaml`ï¼Œä¿®æ”¹ monitored_addresses éƒ¨åˆ†ï¼ˆæœ€å¤š3ä¸ªï¼‰ã€‚

### Q5: å¯ä»¥ç›‘æ§å†å²äº¤æ˜“å—ï¼Ÿ
**A:** å¯ä»¥ã€‚ç¼–è¾‘ `config.yaml`ï¼Œè®¾ç½® `start_block` ä¸ºå†å²åŒºå—å·ã€‚

---

## ğŸ“± æ¨èçš„å·¥ä½œæµç¨‹

### åˆæ¬¡å¯åŠ¨
```bash
1. cd /root/polycopy
2. python3 main.py &
3. ./watch.sh 10
```

### æ—¥å¸¸æ£€æŸ¥
```bash
./quick_check.sh
```

### å‘ç°é—®é¢˜æ—¶
```bash
1. ./status.sh              # æŸ¥çœ‹è¯¦ç»†çŠ¶æ€
2. tail -50 logs/polycopy.log  # æŸ¥çœ‹æ—¥å¿—
3. pkill -f 'python3 main.py'  # é‡å¯
4. python3 main.py &
```

---

## ğŸ“Š æ€§èƒ½æ•°æ®

- **å†…å­˜ä½¿ç”¨ï¼š** ~64 MBï¼ˆç¨³å®šï¼‰
- **CPUä½¿ç”¨ï¼š** <5%ï¼ˆå¾…æœºæ—¶ï¼‰
- **ç£ç›˜ä½¿ç”¨ï¼š** ~9MBï¼ˆæ—¥å¿—+æ•°æ®ï¼‰
- **ç½‘ç»œå¸¦å®½ï¼š** æä½ï¼ˆæ¯12ç§’ä¸€æ¬¡RPCè°ƒç”¨ï¼‰
- **å¯é æ€§ï¼š** 24/7è¿è¡Œï¼Œè‡ªåŠ¨æ•…éšœæ¢å¤

---

## ğŸ‰ äº¤ä»˜æ¸…å•

- [x] æ ¸å¿ƒç›‘æ§ç³»ç»Ÿ
- [x] 3åœ°å€é…ç½®
- [x] 5èŠ‚ç‚¹RPCå†—ä½™
- [x] Polygon POAå…¼å®¹
- [x] SQLiteæ•°æ®åº“
- [x] CSVè‡ªåŠ¨å¯¼å‡º
- [x] æŒç»­ç›‘æ§è„šæœ¬ï¼ˆwatch.shï¼‰
- [x] çŠ¶æ€æ£€æŸ¥è„šæœ¬ï¼ˆstatus.shï¼‰
- [x] å¿«é€Ÿæ£€æŸ¥è„šæœ¬ï¼ˆquick_check.shï¼‰
- [x] å®Œæ•´æ–‡æ¡£
- [x] ç›‘æ§æŒ‡å—
- [x] æµ‹è¯•éªŒè¯
- [x] ç³»ç»Ÿè¿è¡Œä¸­

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

**é¡¹ç›®ä½ç½®ï¼š** /root/polycopy  
**é…ç½®æ–‡ä»¶ï¼š** config.yaml  
**æ—¥å¿—ä½ç½®ï¼š** logs/polycopy.log  
**æ•°æ®ä½ç½®ï¼š** data/trades.csv, data/trades.db

**å¿«é€Ÿè¯Šæ–­ï¼š**
```bash
./status.sh          # å®Œæ•´çŠ¶æ€
./watch.sh           # å®æ—¶ç›‘æ§
tail -f logs/polycopy.log  # å®æ—¶æ—¥å¿—
```

---

**ç³»ç»Ÿå·²å°±ç»ªï¼Œæ­£åœ¨ç›‘æ§ä¸­ï¼** ğŸš€
